
# プログラムの実行方法について

以下のコマンドでプログラムをビルドし、実行します。
build.sh では cmake と make を用いてビルドを行います。

```bash
./bash/build.sh
```

実行ファイルは `build/temp-gateway` に生成されます。以下のコマンドで実行します。

```bash
./bash/run.sh
```

# プログラムの操作方法

プログラム実行中に、以下のコマンドを標準入力から入力することで、システム状態を変更できます。

- pot=数字：入力した秒数だけポテンショメータの値を標準出力に表示します。(例: pot=5)
- fin=1：プログラムを終了します。fin=true でも可。
- cmd=数字：システム状態を変更します。数字は以下の通りです。
  - 1: キャリブレーションを開始します。
  - 2: 閉ループに移行します。
  - 3: ポテンショメータにOdirveの角度を追従させます。
  - 6: UDP受信を開始します。
  - 7: UDP受信を停止します。
  - 8: Idle状態に移行します。

    例: cmd=2

注意点として，fin=1 でプログラムを終了させないと，ログファイルが正しく保存されない場合があります．必ず fin=1 を実行してからプログラムを終了させてください．

# ポテンショメータの値の取得について

いまいちポテンショメータの値が安定しない場合があります．
おそらく俺の実装の問題です．
pot_loop() 関数内の実装を詰め切れていないので，必要に応じて修正してください．
とはいえ，俺も何が問題なのかよくわかっていません．
ひとまず動きはするので，必要に応じてログを取得して確認してください．

# 調整用の定数について

ctrl_manager.cpp 内に，キャリブレーションやポテンショメータの値に関する定数がいくつかあります．
☆マークを付けている箇所を参考に，必要に応じて調整してください．

constants.h 内にも，ポテンショメータのデフォルト値が定義されています．
こちらも必要に応じて調整してください．
